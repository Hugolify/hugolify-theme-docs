{{- $desktop := site.Params.docs.thumbnail.desktop | default false -}}
{{- $mobile := site.Params.docs.thumbnail.mobile | default false -}}
{{- if .Scratch.Get "large" -}}
  {{- $desktop = site.Params.docs.thumbnail.desktop_large | default $desktop -}}
{{- end -}}
{{- if .Scratch.Get "scrollsnap" -}}
  {{- $mobile = site.Params.docs.thumbnail.scrollsnap | default false -}}
{{- end -}}
<div class="media">
  {{ with .Params.image }}
    {{ partial "commons/image.html" (dict
      "src" .src
      "alt" .alt
      "desktop" $desktop
      "mobile" $mobile
      "itemprop" "image"
    ) }}
  {{ else }}
    {{ with .Params.icon }}
      <i class="icon icon-{{ . }}"></i>
    {{ end }}
  {{ end }}
</div>